<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boa Vida Fish Finder - Bazaruto Fishing Guide</title>
    <meta name="description" content="Data-driven fishing guide for Bazaruto waters based on historical catch data">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=EB+Garamond:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Papa Parse for CSV parsing -->
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
    
    <!-- Lodash for data manipulation -->
    <script src="https://unpkg.com/lodash@4.17.21/lodash.min.js"></script>
    
    <!-- Lucide Icons (using static version instead of React components) -->
    <script src="https://unpkg.com/lucide@0.263.1/dist/umd/lucide.js"></script>
    
    <script>
        // Tailwind config extension for custom fonts
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'cormorant': ['"Cormorant Garamond"', 'serif'],
                        'eb-garamond': ['"EB Garamond"', 'serif'],
                    }
                }
            }
        };
    </script>
    
    <style>

        /* Additional mobile optimizations */
        body {
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            background-color: #F8FAFC; /* Light background */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: #0F172A; /* Dark text for better readability */
        }
        
        /* Ensure good contrast in bright sunlight */
        .sunlight-optimized {
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        /* Loading animation */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        /* Smooth transitions */
        .transition-all {
            transition: all 0.3s ease;
        }
        
        /* Modern card styling */
        .card {
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            background-color: #FFFFFF;
            border: 1px solid rgba(0,0,0,0.05);
            transition: all 0.2s ease;
            overflow: hidden;
        }
        
        .card:hover {
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            transform: translateY(-2px);
        }
        
        /* Card variations */
        .card-compact {
            padding: 1.25rem;
        }
        
        .card-spacious {
            padding: 2rem;
        }
        
        /* Modern minimalist color palette */
        .bg-primary {
            background-color: #0A2647;
        }
        
        .bg-secondary {
            background-color: #144272;
        }
        
        .bg-accent {
            background-color: #205295;
        }
        
        .bg-light {
            background-color: #F8FAFC;
        }
        
        .bg-surface {
            background-color: #FFFFFF;
        }
        
        .text-primary {
            color: #0A2647;
        }
        
        .text-secondary {
            color: #144272;
        }
        
        .text-accent {
            color: #205295;
        }
        
        .text-muted {
            color: #64748B;
        }
        
        .border-primary {
            border-color: #0A2647;
        }
        
        /* Keep old color classes for compatibility */
        .bg-true-navy {
            background-color: #0A2647;
        }
        
        .bg-blue-door {
            background-color: #144272;
        }
        
        .bg-harpers-blue {
            background-color: #205295;
        }
        
        .bg-alice-blue {
            background-color: #F8FAFC;
        }
        
        .text-true-navy {
            color: #0A2647;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        // Wait for all libraries to load before initializing the app
        function initializeApp() {
            // Check if all libraries are loaded
            if (typeof React === 'undefined' || typeof ReactDOM === 'undefined' || 
                typeof Papa === 'undefined' || typeof _ === 'undefined') {
                console.log('Waiting for libraries to load...');
                setTimeout(initializeApp, 100);
                return;
            }
            
            console.log('All libraries loaded, starting app...');
            startApp();
        }
        
        function startApp() {
            const { useState, useEffect } = React;
            
            // Create simple icon components using SVG
            const createIcon = (pathData, viewBox = "0 0 24 24") => {
                return (props) => React.createElement('svg', {
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "24",
                    height: "24",
                    viewBox: viewBox,
                    fill: "none",
                    stroke: "currentColor",
                    strokeWidth: "2",
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    className: props.className,
                    style: props.style
                }, React.createElement('path', { d: pathData }));
            };
            
            // Define icon paths
            const Fish = createIcon("M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-1 3.46-3.44 6-7 6s-7.56-2.54-8.5-6Z M18 12v.01 M12 12v.01");
            const MapPin = createIcon("M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0Z M12 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z");
            const Sun = createIcon("M12 2v2 M12 20v2 M4.93 4.93l1.41 1.41 M17.66 17.66l1.41 1.41 M2 12h2 M20 12h2 M6.34 17.66l-1.41 1.41 M19.07 4.93l-1.41 1.41");
            const Moon = createIcon("M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z");
            const Droplets = createIcon("M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05Z M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97");
            const Clock = createIcon("M12 2a10 10 0 1 0 0 20 10 10 0 1 0 0-20Z M12 6v6l4 2");
            const TrendingUp = createIcon("M22 7L13.5 15.5 8.5 10.5 2 17 M16 7h6v6");
            const AlertCircle = createIcon("M12 2a10 10 0 1 0 0 20 10 10 0 1 0 0-20Z M12 8v4 M12 16h.01");

            const SimpleFishingGuide = () => {
            const [data, setData] = useState([]);
            const [loading, setLoading] = useState(false);
            const [selectedFish, setSelectedFish] = useState('');
            const [recommendations, setRecommendations] = useState(null);
            const [species, setSpecies] = useState([]);
            const [error, setError] = useState(null);

            useEffect(() => {
                loadData();
            }, []);

            const loadData = async () => {
                try {
                    setLoading(true);
                    setError(null);
                    console.log("Starting data load process...");
                    
                    // Try multiple possible filenames for flexibility
                    const possibleFilenames = [
                        'Boa_Vida_Fish_Finder_data.csv',
                        './Boa_Vida_Fish_Finder_data.csv',
                        '../Boa_Vida_Fish_Finder_data.csv',
                        '/Boa_Vida_Fish_Finder_data.csv',
                        'data/Boa_Vida_Fish_Finder_data.csv',
                        './data/Boa_Vida_Fish_Finder_data.csv'
                    ];
                    
                    let csvData;
                    let loadedFilename = '';
                    
                    // Always try the direct root path first as most reliable
                    try {
                        console.log("Trying direct path to CSV in root directory...");
                        const response = await fetch('/Boa_Vida_Fish_Finder_data.csv');
                        if (response.ok) {
                            csvData = await response.text();
                            loadedFilename = '/Boa_Vida_Fish_Finder_data.csv';
                            console.log(`‚úÖ Successfully loaded from root: ${loadedFilename}`);
                            console.log(`First 50 chars: ${csvData.substring(0, 50)}`);
                        } else {
                            console.log(`‚ùå Root path failed with status: ${response.status}`);
                        }
                    } catch (err) {
                        console.log(`‚ùå Error loading from root path: ${err.message}`);
                    }
                    
                    // Try other paths if root didn't work
                    if (!csvData) {
                        for (const filename of possibleFilenames) {
                            try {
                                console.log(`Trying path: ${filename}`);
                                const response = await fetch(filename);
                                if (response.ok) {
                                    csvData = await response.text();
                                    loadedFilename = filename;
                                    console.log(`‚úÖ Successfully loaded: ${filename}`);
                                    break;
                                } else {
                                    console.log(`‚ùå Failed with status: ${response.status}`);
                                }
                            } catch (err) {
                                console.log(`‚ùå Error loading: ${filename} - ${err.message}`);
                            }
                        }
                    }
                    
                    if (!csvData) {
                        console.error('‚ö†Ô∏è CSV loading failed from all relative paths. Attempting absolute path...');
                        try {
                            // Last resort - try with absolute path
                            const absolutePath = window.location.origin + '/Boa_Vida_Fish_Finder_data.csv';
                            console.log('Trying absolute path:', absolutePath);
                            const response = await fetch(absolutePath);
                            if (response.ok) {
                                csvData = await response.text();
                                loadedFilename = absolutePath;
                                console.log(`‚úÖ Successfully loaded from absolute path: ${absolutePath}`);
                            } else {
                                console.log(`‚ùå Absolute path failed with status: ${response.status}`);
                                throw new Error('Could not find CSV file. Please ensure Boa_Vida_Fish_Finder_data.csv is in the project directory.');
                            }
                        } catch (err) {
                            console.error('‚ùå All CSV loading attempts failed:', err);
                            throw new Error('Could not find CSV file. Please ensure Boa_Vida_Fish_Finder_data.csv is in the project directory.');
                        }
                    }
                    
                    console.log("Starting CSV parsing...");
                    Papa.parse(csvData, {
                        header: true,
                        skipEmptyLines: true,
                        dynamicTyping: true,
                        complete: (results) => {
                            console.log(`‚úÖ CSV parsed successfully. Found ${results.data.length} rows.`);
                            console.log(`Headers: ${results.meta.fields ? results.meta.fields.join(', ') : 'No headers found'}`);
                            
                            if (results.data.length === 0) {
                                console.error("‚ùå No data rows found in CSV");
                                throw new Error("CSV file contains no data rows");
                            }
                            
                            if (!results.data[0].Species) {
                                console.error("‚ùå Missing Species column in CSV data");
                                console.log("First row data:", JSON.stringify(results.data[0], null, 2));
                                throw new Error("CSV data is missing required Species column");
                            }
                            
                            const cleanedData = results.data
                                .filter(row => row.Species && row.Species.trim() !== '')
                                .map(row => {
                                    // Handle column names with trailing spaces
                                    const place = row.Place || row['Place '] || row['Place  '];
                                    const primaryBait = row.Primary_Bait || row['Primary_Bait '] || row.Bait || row['Bait '];
                                    const timeOfStrike = row['Time of Strike'] || row['Time of Strike '] || row['Time of Strike  '];
                                    const weather = row.Weather || row['Weather '] || row['Weather  '];
                                    
                                    // Convert lbs to kg internally (0.453592 conversion factor)
                                    const weightLbs = parseFloat(row['Weight (lbs)']) || 0;
                                    const weightKg = weightLbs * 0.453592;
                                    
                                    return {
                                        Species: row.Species?.trim(),
                                        Weight: weightKg, // Calculated from lbs
                                        WeightLbs: weightLbs,
                                        Place: place?.trim() || 'Unknown',
                                        PrimaryBait: primaryBait?.trim() || 'Unknown',
                                        Enhancement: row.Enhancement?.trim() || '',
                                        // RawBait removed as per column update
                                        WaterTemp: parseFloat(row['Water Temperature (¬∞C)'] || row['Water Temperature (C)']) || 0,
                                        Moon: row.Moon?.trim() || 'Unknown',
                                        TideState: row['Tide State']?.trim() || 'Unknown',
                                        TimeOfStrike: timeOfStrike?.trim() || '',
                                        Weather: weather?.trim() || '',
                                        CloudCover: parseInt(row['Cloud Cover (%)']) || 0,
                                        TideHeight: parseFloat(row['Tide Height (m)']) || 0,
                                        TidalCoeff: parseInt(row['Tidal Coefficient']) || 0,
                                        Length: parseFloat(row['Length (m)']) || 0,
                                        LineLbs: parseFloat(row['Line (lbs)']) || 0,
                                        AirTemp: parseFloat(row['Air Temp (¬∞C)']) || 0
                                    };
                                });
                            
                            console.log(`‚úÖ Cleaned data: ${cleanedData.length} valid rows`);
                            setData(cleanedData);
                            
                            const uniqueSpecies = _.uniq(cleanedData.map(d => d.Species)).sort();
                            console.log(`‚úÖ Found ${uniqueSpecies.length} unique species: ${uniqueSpecies.join(', ')}`);
                            setSpecies(uniqueSpecies);
                            
                            if (uniqueSpecies.length > 0) {
                                console.log(`‚úÖ Setting selected fish to: ${uniqueSpecies[0]}`);
                                setSelectedFish(uniqueSpecies[0]);
                                analyzeSpecies(uniqueSpecies[0], cleanedData);
                            } else {
                                console.error("‚ùå No species found in data");
                                throw new Error("No fish species found in data");
                            }
                        },
                        error: (error) => {
                            throw new Error(`CSV parsing error: ${error.message}`);
                        }
                    });
                } catch (error) {
                    console.error('Error loading data:', error);
                    setError(error.message);
                } finally {
                    setLoading(false);
                }
            };

            const analyzeSpecies = (fishSpecies, fishingData) => {
                console.log(`Analyzing species: ${fishSpecies}`);
                console.log(`Total fishing data records: ${fishingData.length}`);
                
                const speciesData = fishingData.filter(d => d.Species === fishSpecies);
                console.log(`Found ${speciesData.length} records for ${fishSpecies}`);
                
                if (speciesData.length === 0) {
                    console.error(`‚ùå No data found for species: ${fishSpecies}`);
                    setRecommendations(null);
                    return;
                }

                // Best locations
                console.log("Calculating best locations...");
                let locationCounts;
                try {
                    locationCounts = _(speciesData)
                        .groupBy('Place')
                        .mapValues(records => ({
                            count: records.length,
                            avgWeight: _.meanBy(records, 'WeightLbs'),
                            percentage: (records.length / speciesData.length * 100)
                        }))
                        .entries()
                        .orderBy([1, 'count'], ['desc'])
                        .value();
                    
                    console.log(`‚úÖ Found ${locationCounts.length} locations`);
                    if (locationCounts.length > 0) {
                        console.log(`Top location: ${locationCounts[0][0]} with ${locationCounts[0][1].count} catches`);
                    }
                } catch (err) {
                    console.error("‚ùå Error calculating locations:", err);
                    throw new Error(`Location analysis failed: ${err.message}`);
                }

                // Best baits (using Primary_Bait)
                console.log("Calculating best baits...");
                let baitCounts;
                try {
                    baitCounts = _(speciesData)
                        .groupBy('PrimaryBait')
                        .mapValues(records => ({
                            count: records.length,
                            avgWeight: _.meanBy(records, 'WeightLbs'),
                            percentage: (records.length / speciesData.length * 100)
                        }))
                        .entries()
                        .orderBy([1, 'count'], ['desc'])
                        .value();
                    
                    console.log(`‚úÖ Found ${baitCounts.length} bait types`);
                    if (baitCounts.length > 0) {
                        console.log(`Top bait: ${baitCounts[0][0]} with ${baitCounts[0][1].count} catches`);
                    }
                } catch (err) {
                    console.error("‚ùå Error calculating baits:", err);
                    throw new Error(`Bait analysis failed: ${err.message}`);
                }

                // Best enhancements (when used with primary bait)
                console.log("Calculating best enhancements...");
                let enhancementCounts;
                try {
                    enhancementCounts = _(speciesData)
                        .filter(record => record.Enhancement && record.Enhancement !== 'Unknown' && record.Enhancement !== '')
                        .groupBy('Enhancement')
                        .mapValues(records => ({
                            count: records.length,
                            avgWeight: _.meanBy(records, 'WeightLbs'),
                            percentage: (records.length / speciesData.filter(r => r.Enhancement && r.Enhancement !== '').length * 100),
                            usedWith: _.chain(records).groupBy('PrimaryBait').mapValues('length').entries().orderBy([1], ['desc']).value()[0]
                        }))
                        .entries()
                        .orderBy([1, 'count'], ['desc'])
                        .value();
                    
                    console.log(`‚úÖ Found ${enhancementCounts.length} enhancement types`);
                    if (enhancementCounts.length > 0) {
                        console.log(`Top enhancement: ${enhancementCounts[0][0]} with ${enhancementCounts[0][1].count} catches`);
                    }
                } catch (err) {
                    console.error("‚ùå Error calculating enhancements:", err);
                    console.log("This is not critical, continuing with analysis...");
                    enhancementCounts = [];
                }

                // Best moon phases
                const moonCounts = _(speciesData)
                    .groupBy('Moon')
                    .mapValues(records => ({
                        count: records.length,
                        percentage: (records.length / speciesData.length * 100)
                    }))
                    .entries()
                    .orderBy([1, 'count'], ['desc'])
                    .value();

                // Best tide states
                const tideCounts = _(speciesData)
                    .groupBy('TideState')
                    .mapValues(records => ({
                        count: records.length,
                        percentage: (records.length / speciesData.length * 100)
                    }))
                    .entries()
                    .orderBy([1, 'count'], ['desc'])
                    .value();

                // Best time of day
                const timeOfDay = _(speciesData)
                    .groupBy(row => {
                        const time = row.TimeOfStrike;
                        if (!time) return 'Unknown';
                        const hour = parseInt(time.split(':')[0]);
                        if (hour >= 5 && hour < 12) return 'Morning (5am-12pm)';
                        if (hour >= 12 && hour < 17) return 'Afternoon (12pm-5pm)';
                        if (hour >= 17 && hour < 20) return 'Evening (5pm-8pm)';
                        return 'Night (8pm-5am)';
                    })
                    .mapValues(records => ({
                        count: records.length,
                        percentage: (records.length / speciesData.length * 100)
                    }))
                    .entries()
                    .orderBy([1, 'count'], ['desc'])
                    .value();

                // Weather conditions
                console.log("Calculating weather conditions...");
                let avgWaterTemp = 26; // Default to 26¬∞C (typical Bazaruto water temp)
                let avgCloudCover = 50; // Default to partly cloudy
                let weatherPreference = 'Partly cloudy';
                
                try {
                    // Exclude zero/missing values from average
                    const validWaterTemps = speciesData.filter(d => d.WaterTemp > 0);
                    console.log(`Found ${validWaterTemps.length} records with valid water temperatures`);
                    
                    if (validWaterTemps.length > 0) {
                        avgWaterTemp = _.meanBy(validWaterTemps, 'WaterTemp');
                        console.log(`‚úÖ Average water temperature: ${avgWaterTemp.toFixed(1)}¬∞C`);
                    } else {
                        console.log("‚ö†Ô∏è No valid water temperature data, using default of 26¬∞C");
                    }
                    
                    avgCloudCover = _.meanBy(speciesData, 'CloudCover');
                    console.log(`‚úÖ Average cloud cover: ${avgCloudCover.toFixed(1)}%`);
                    
                    weatherPreference = avgCloudCover < 30 ? 'Clear skies' : 
                                      avgCloudCover < 60 ? 'Partly cloudy' : 'Overcast';
                    console.log(`‚úÖ Weather preference: ${weatherPreference}`);
                } catch (err) {
                    console.error("‚ùå Error calculating weather conditions:", err);
                    console.log("Using default weather values");
                }

                setRecommendations({
                    totalCatches: speciesData.length,
                    avgWeight: _.meanBy(speciesData, 'WeightLbs'),
                    maxWeight: _.maxBy(speciesData, 'WeightLbs')?.WeightLbs || 0,
                    topLocation: locationCounts[0],
                    allLocations: locationCounts.slice(0, 3),
                    topBait: baitCounts[0],
                    allBaits: baitCounts.slice(0, 3),
                    topEnhancement: enhancementCounts.length > 0 ? enhancementCounts[0] : null,
                    allEnhancements: enhancementCounts.slice(0, 3),
                    topMoon: moonCounts[0],
                    allMoons: moonCounts.slice(0, 3),
                    topTide: tideCounts[0],
                    allTides: tideCounts.slice(0, 3),
                    topTime: timeOfDay[0],
                    allTimes: timeOfDay,
                    avgWaterTemp: avgWaterTemp.toFixed(1),
                    weatherPreference
                });
            };

            const handleSpeciesChange = (newSpecies) => {
                setSelectedFish(newSpecies);
                analyzeSpecies(newSpecies, data);
            };

            if (loading) {
                return React.createElement('div', {
                    className: "min-h-screen bg-gradient-to-b from-blue-400 to-blue-600 flex items-center justify-center p-4"
                }, React.createElement('div', {
                    className: "bg-white rounded-xl p-8 text-center shadow-2xl max-w-sm mx-auto"
                }, [
                    React.createElement('div', {
                        key: 'spinner',
                        className: "animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"
                    }),
                    React.createElement('p', {
                        key: 'text',
                        className: "text-xl font-semibold sunlight-optimized"
                    }, "Loading fishing data..."),
                    React.createElement('p', {
                        key: 'subtext',
                        className: "text-gray-600 mt-2"
                    }, "Analyzing historical catches")
                ]));
            }

            if (error) {
                return React.createElement('div', {
                    className: "min-h-screen bg-gradient-to-b from-blue-400 to-blue-600 flex items-center justify-center p-4"
                }, React.createElement('div', {
                    className: "bg-white rounded-xl p-8 text-center shadow-2xl max-w-md mx-auto"
                }, [
                    React.createElement(AlertCircle, {
                        key: 'icon',
                        className: "h-16 w-16 text-red-500 mx-auto mb-4"
                    }),
                    React.createElement('p', {
                        key: 'title',
                        className: "text-xl font-semibold mb-2 sunlight-optimized"
                    }, "Data Loading Error"),
                    React.createElement('p', {
                        key: 'message',
                        className: "text-gray-600 mb-4"
                    }, error),
                    React.createElement('button', {
                        key: 'retry',
                        onClick: loadData,
                        className: "bg-blue-door text-white px-6 py-3 rounded-lg font-semibold hover:bg-true-navy transition-all"
                    }, "Try Again")
                ]));
            }

            if (!recommendations) {
                return React.createElement('div', {
                    className: "min-h-screen bg-gradient-to-b from-blue-400 to-blue-600 flex items-center justify-center p-4"
                }, React.createElement('div', {
                    className: "bg-white rounded-xl p-8 text-center shadow-2xl max-w-md mx-auto"
                }, [
                    React.createElement(AlertCircle, {
                        key: 'icon',
                        className: "h-16 w-16 text-orange-500 mx-auto mb-4"
                    }),
                    React.createElement('p', {
                        key: 'title',
                        className: "text-xl font-semibold sunlight-optimized"
                    }, "No data available"),
                    React.createElement('p', {
                        key: 'message',
                        className: "text-gray-600 mt-2"
                    }, "Please ensure the CSV file is uploaded and accessible.")
                ]));
            }

            return React.createElement('div', {
                className: "min-h-screen p-4 pb-8" // Background gradient is set in CSS
            }, React.createElement('div', {
                className: "max-w-2xl mx-auto"
            }, [
                // Header
                React.createElement('div', {
                    key: 'header',
                    className: "card bg-surface p-8 mb-6"
                }, [
                    // Home button (top left)
                    React.createElement('div', {
                        key: 'nav',
                        className: "flex justify-start mb-4"
                    }, 
                        React.createElement('a', {
                            key: 'home-btn',
                            href: 'home.html',
                            className: "inline-flex items-center justify-center gap-2 bg-light hover:bg-gray-100 text-primary font-medium py-2 px-4 rounded-full transition-colors"
                        }, [
                            // Home icon
                            React.createElement('svg', {
                                key: 'home-icon',
                                xmlns: "http://www.w3.org/2000/svg",
                                width: "16",
                                height: "16",
                                viewBox: "0 0 24 24",
                                fill: "none",
                                stroke: "currentColor",
                                strokeWidth: "2",
                                strokeLinecap: "round",
                                strokeLinejoin: "round"
                            }, [
                                React.createElement('path', {
                                    key: 'path1',
                                    d: "M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                                }),
                                React.createElement('polyline', {
                                    key: 'path2',
                                    points: "9 22 9 12 15 12 15 22"
                                })
                            ]),
                            "Home"
                        ])
                    ),
                    
                    React.createElement('div', {
                        key: 'content',
                        className: "text-center"
                    }, [
                        React.createElement('h1', {
                            key: 'title',
                            className: "font-cormorant tracking-wider uppercase text-4xl font-light text-true-navy mb-2 sunlight-optimized whitespace-nowrap"
                        }, "B O A   V I D A"),
                        React.createElement('h2', {
                            key: 'subtitle',
                            className: "font-cormorant tracking-widest uppercase text-xl font-light text-true-navy mb-6 sunlight-optimized"
                        }, "F I S H   F O R E C A S T"),
                        
                        // Log a Catch Button
                        React.createElement('a', {
                            key: 'log-catch-btn',
                            href: 'https://docs.google.com/forms/d/e/1FAIpQLSdvpVR2RHX20eDRkGjjlfyyZyBwaViGhszCn7sh0DVyfhim6g/viewform?usp=header',
                            target: '_blank',
                            rel: 'noopener noreferrer',
                            className: "inline-flex items-center justify-center gap-3 bg-accent hover:bg-secondary text-white font-medium py-4 px-8 rounded-full shadow-lg text-lg transition-all mt-6"
                        }, [
                            // Plus icon
                            React.createElement('svg', {
                                key: 'plus-icon',
                                xmlns: "http://www.w3.org/2000/svg",
                                width: "24",
                                height: "24",
                                viewBox: "0 0 24 24",
                                fill: "none",
                                stroke: "currentColor",
                                strokeWidth: "2",
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                className: "h-6 w-6"
                            }, [
                                React.createElement('path', {
                                    key: 'path1',
                                    d: "M12 5v14"
                                }),
                                React.createElement('path', {
                                    key: 'path2',
                                    d: "M5 12h14"
                                })
                            ]),
                            "LOG A CATCH"
                        ])
                    ])
                ]),

                // Fish Selector
                React.createElement('div', {
                    key: 'selector',
                    className: "card card-spacious bg-surface mb-6"
                }, [
                    React.createElement('label', {
                        key: 'label',
                        className: "block text-base font-medium text-muted mb-2"
                    }, "SELECT SPECIES"),
                    React.createElement('select', {
                        key: 'select',
                        value: selectedFish,
                        onChange: (e) => handleSpeciesChange(e.target.value),
                        className: "w-full text-xl font-semibold p-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent focus:border-accent outline-none text-primary bg-light"
                    }, species.map(sp => React.createElement('option', {
                        key: sp,
                        value: sp
                    }, sp))),
                    
                    React.createElement('div', {
                        key: 'stats',
                        className: "mt-6 grid grid-cols-2 gap-4"
                    }, [
                        React.createElement('div', {
                            key: 'avg',
                            className: "bg-light rounded-xl p-4 flex flex-col"
                        }, [
                            React.createElement('span', {
                                key: 'label',
                                className: "text-sm text-muted mb-1"
                            }, "AVERAGE WEIGHT"),
                            React.createElement('span', {
                                key: 'value',
                                className: "text-2xl font-bold text-primary"
                            }, `${recommendations.avgWeight.toFixed(1)} lbs`)
                        ]),
                        React.createElement('div', {
                            key: 'max',
                            className: "bg-light rounded-xl p-4 flex flex-col"
                        }, [
                            React.createElement('span', {
                                key: 'label',
                                className: "text-sm text-muted mb-1"
                            }, "BIGGEST CATCH"),
                            React.createElement('span', {
                                key: 'value',
                                className: "text-2xl font-bold text-accent"
                            }, `${recommendations.maxWeight.toFixed(1)} lbs`)
                        ])
                    ])
                ]),

                // Best Location
                React.createElement('div', {
                    key: 'location',
                    className: "card card-spacious bg-surface mb-6"
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: "flex items-center mb-6"
                    }, [
                        React.createElement('div', {
                            key: 'icon-wrapper',
                            className: "bg-light rounded-full p-2 mr-3"
                        }, React.createElement(MapPin, {
                            key: 'icon',
                            className: "h-6 w-6 text-accent"
                        })),
                        React.createElement('h2', {
                            key: 'title',
                            className: "text-xl font-semibold text-primary"
                        }, "Where to Fish")
                    ]),
                    
                    React.createElement('div', {
                        key: 'best',
                        className: "bg-light rounded-xl p-6 mb-6"
                    }, React.createElement('div', {
                        className: "text-center"
                    }, [
                        React.createElement('div', {
                            key: 'label',
                            className: "text-sm text-muted uppercase mb-2"
                        }, "Best Spot"),
                        React.createElement('div', {
                            key: 'name',
                            className: "text-3xl font-bold text-primary mb-3"
                        }, recommendations.topLocation[0]),
                        React.createElement('div', {
                            key: 'stats',
                            className: "inline-flex items-center justify-center px-3 py-1 bg-accent/10 text-accent rounded-full text-sm font-medium"
                        }, `${recommendations.topLocation[1].count} catches`),
                        React.createElement('div', {
                            key: 'avg',
                            className: "text-sm text-muted mt-3"
                        }, `Average weight: ${recommendations.topLocation[1].avgWeight.toFixed(1)} lbs`)
                    ])),

                    recommendations.allLocations.length > 1 && React.createElement('div', {
                        key: 'others',
                        className: "space-y-3"
                    }, [
                        React.createElement('div', {
                            key: 'label',
                            className: "text-xs font-medium text-muted uppercase"
                        }, "Other good spots"),
                        ...recommendations.allLocations.slice(1).map(([place, data], index) => 
                            React.createElement('div', {
                                key: index,
                                className: "flex justify-between items-center bg-light p-3 rounded-lg hover:bg-gray-100 transition-colors"
                            }, [
                                React.createElement('span', {
                                    key: 'name',
                                    className: "font-medium text-primary"
                                }, place),
                                React.createElement('span', {
                                    key: 'count',
                                    className: "text-xs px-2 py-1 bg-accent/10 text-accent rounded-full"
                                }, `${data.count}`)
                            ])
                        )
                    ])
                ]),

                // Best Bait
                React.createElement('div', {
                    key: 'bait',
                    className: "card bg-alice-blue rounded-xl shadow-2xl p-6 mb-4"
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: "flex items-center mb-4"
                    }, [
                        React.createElement(Fish, {
                            key: 'icon',
                            className: "h-8 w-8 text-orange-600 mr-3"
                        }),
                        React.createElement('h2', {
                            key: 'title',
                            className: "text-2xl font-bold text-true-navy sunlight-optimized"
                        }, "What Bait to Use")
                    ]),
                    
                    React.createElement('div', {
                        key: 'best',
                        className: "bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-6 mb-4"
                    }, React.createElement('div', {
                        className: "text-center"
                    }, [
                        React.createElement('div', {
                            key: 'label',
                            className: "text-lg text-orange-700 mb-2"
                        }, "üé£ BEST BAIT"),
                        React.createElement('div', {
                            key: 'name',
                            className: "text-3xl font-bold text-orange-900 mb-2 sunlight-optimized"
                        }, recommendations.topBait[0]),
                        React.createElement('div', {
                            key: 'stats',
                            className: "text-xl text-orange-700"
                        }, `${recommendations.topBait[1].count} catches (${recommendations.topBait[1].percentage.toFixed(0)}% success)`),
                        React.createElement('div', {
                            key: 'avg',
                            className: "text-lg text-orange-600 mt-2"
                        }, `Avg: ${recommendations.topBait[1].avgWeight.toFixed(1)} lbs`)
                    ])),

                    recommendations.allBaits.length > 1 && React.createElement('div', {
                        key: 'others',
                        className: "space-y-2"
                    }, [
                        React.createElement('div', {
                            key: 'label',
                            className: "text-sm font-semibold text-gray-600 mb-2"
                        }, "Other good baits:"),
                        ...recommendations.allBaits.slice(1).map(([bait, data], index) => 
                            React.createElement('div', {
                                key: index,
                                className: "flex justify-between items-center bg-gray-50 p-3 rounded-lg"
                            }, [
                                React.createElement('span', {
                                    key: 'name',
                                    className: "font-medium text-true-navy"
                                }, bait),
                                React.createElement('span', {
                                    key: 'count',
                                    className: "text-gray-600"
                                }, `${data.count} catches`)
                            ])
                        )
                    ])
                ]),

                // Best Enhancement (conditional)
                recommendations.topEnhancement && React.createElement('div', {
                    key: 'enhancement',
                    className: "card bg-alice-blue rounded-xl shadow-2xl p-6 mb-4"
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: "flex items-center mb-4"
                    }, [
                        React.createElement(TrendingUp, {
                            key: 'icon',
                            className: "h-8 w-8 text-pink-600 mr-3"
                        }),
                        React.createElement('h2', {
                            key: 'title',
                            className: "text-2xl font-bold text-true-navy sunlight-optimized"
                        }, "Bait Enhancement")
                    ]),
                    
                    React.createElement('div', {
                        key: 'best',
                        className: "bg-gradient-to-r from-pink-50 to-pink-100 rounded-lg p-6 mb-4"
                    }, React.createElement('div', {
                        className: "text-center"
                    }, [
                        React.createElement('div', {
                            key: 'label',
                            className: "text-lg text-pink-700 mb-2"
                        }, "‚ú® BEST ENHANCEMENT"),
                        React.createElement('div', {
                            key: 'name',
                            className: "text-3xl font-bold text-pink-900 mb-2 sunlight-optimized"
                        }, recommendations.topEnhancement[0]),
                        React.createElement('div', {
                            key: 'stats',
                            className: "text-xl text-pink-700"
                        }, `${recommendations.topEnhancement[1].count} catches (${recommendations.topEnhancement[1].percentage.toFixed(0)}% when used)`),
                        React.createElement('div', {
                            key: 'avg',
                            className: "text-lg text-pink-600 mt-2"
                        }, `Avg: ${recommendations.topEnhancement[1].avgWeight.toFixed(1)} lbs`),
                        recommendations.topEnhancement[1].usedWith && React.createElement('div', {
                            key: 'used-with',
                            className: "text-sm text-pink-600 mt-2"
                        }, `Often used with: ${recommendations.topEnhancement[1].usedWith[0]}`)
                    ])),

                    recommendations.allEnhancements.length > 1 && React.createElement('div', {
                        key: 'others',
                        className: "space-y-2"
                    }, [
                        React.createElement('div', {
                            key: 'label',
                            className: "text-sm font-semibold text-gray-600 mb-2"
                        }, "Other enhancements:"),
                        ...recommendations.allEnhancements.slice(1).map(([enhancement, data], index) => 
                            React.createElement('div', {
                                key: index,
                                className: "flex justify-between items-center bg-gray-50 p-3 rounded-lg"
                            }, [
                                React.createElement('span', {
                                    key: 'name',
                                    className: "font-medium text-true-navy"
                                }, enhancement),
                                React.createElement('span', {
                                    key: 'count',
                                    className: "text-gray-600"
                                }, `${data.count} catches`)
                            ])
                        )
                    ])
                ]),

                // Best Time
                React.createElement('div', {
                    key: 'time',
                    className: "card bg-alice-blue rounded-xl shadow-2xl p-6 mb-4"
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: "flex items-center mb-4"
                    }, [
                        React.createElement(Clock, {
                            key: 'icon',
                            className: "h-8 w-8 text-purple-600 mr-3"
                        }),
                        React.createElement('h2', {
                            key: 'title',
                            className: "text-2xl font-bold text-true-navy sunlight-optimized"
                        }, "When to Fish")
                    ]),
                    
                    React.createElement('div', {
                        key: 'best',
                        className: "bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-6 mb-4"
                    }, React.createElement('div', {
                        className: "text-center"
                    }, [
                        React.createElement('div', {
                            key: 'label',
                            className: "text-lg text-purple-700 mb-2"
                        }, "‚è∞ BEST TIME"),
                        React.createElement('div', {
                            key: 'name',
                            className: "text-3xl font-bold text-purple-900 mb-2 sunlight-optimized"
                        }, recommendations.topTime[0]),
                        React.createElement('div', {
                            key: 'stats',
                            className: "text-xl text-purple-700"
                        }, `${recommendations.topTime[1].count} catches (${recommendations.topTime[1].percentage.toFixed(0)}% success)`)
                    ])),

                    recommendations.allTimes.length > 1 && React.createElement('div', {
                        key: 'others',
                        className: "space-y-2"
                    }, recommendations.allTimes.slice(1).map(([time, data], index) => 
                        React.createElement('div', {
                            key: index,
                            className: "flex justify-between items-center bg-gray-50 p-3 rounded-lg"
                        }, [
                            React.createElement('span', {
                                key: 'name',
                                className: "font-medium text-gray-800"
                            }, time),
                            React.createElement('span', {
                                key: 'count',
                                className: "text-gray-600"
                            }, `${data.count} catches`)
                        ])
                    ))
                ]),

                // Best Conditions
                React.createElement('div', {
                    key: 'conditions',
                    className: "card bg-alice-blue rounded-xl shadow-2xl p-6 mb-4"
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: "flex items-center mb-4"
                    }, [
                        React.createElement(Sun, {
                            key: 'icon',
                            className: "h-8 w-8 text-yellow-600 mr-3"
                        }),
                        React.createElement('h2', {
                            key: 'title',
                            className: "text-2xl font-bold text-true-navy sunlight-optimized"
                        }, "Best Conditions")
                    ]),
                    
                    React.createElement('div', {
                        key: 'conditions-list',
                        className: "space-y-3"
                    }, [
                        // Moon Phase
                        React.createElement('div', {
                            key: 'moon',
                            className: "bg-indigo-50 rounded-lg p-4"
                        }, React.createElement('div', {
                            className: "flex items-center justify-between"
                        }, [
                            React.createElement('div', {
                                key: 'left',
                                className: "flex items-center"
                            }, [
                                React.createElement(Moon, {
                                    key: 'icon',
                                    className: "h-6 w-6 text-indigo-600 mr-3"
                                }),
                                React.createElement('div', {
                                    key: 'content'
                                }, [
                                    React.createElement('div', {
                                        key: 'label',
                                        className: "font-semibold text-true-navy"
                                    }, "Moon Phase"),
                                    React.createElement('div', {
                                        key: 'value',
                                        className: "text-2xl font-bold text-true-navy sunlight-optimized"
                                    }, recommendations.topMoon[0])
                                ])
                            ]),
                            React.createElement('div', {
                                key: 'right',
                                className: "text-right"
                            }, [
                                React.createElement('div', {
                                    key: 'label',
                                    className: "text-sm text-gray-600"
                                }, "Success rate"),
                                React.createElement('div', {
                                    key: 'value',
                                    className: "text-xl font-bold text-indigo-600 sunlight-optimized"
                                }, `${recommendations.topMoon[1].percentage.toFixed(0)}%`)
                            ])
                        ])),

                        // Tide State
                        React.createElement('div', {
                            key: 'tide',
                            className: "bg-cyan-50 rounded-lg p-4"
                        }, React.createElement('div', {
                            className: "flex items-center justify-between"
                        }, [
                            React.createElement('div', {
                                key: 'left',
                                className: "flex items-center"
                            }, [
                                React.createElement(Droplets, {
                                    key: 'icon',
                                    className: "h-6 w-6 text-cyan-600 mr-3"
                                }),
                                React.createElement('div', {
                                    key: 'content'
                                }, [
                                    React.createElement('div', {
                                        key: 'label',
                                        className: "font-semibold text-true-navy"
                                    }, "Tide"),
                                    React.createElement('div', {
                                        key: 'value',
                                        className: "text-2xl font-bold text-true-navy sunlight-optimized"
                                    }, recommendations.topTide[0])
                                ])
                            ]),
                            React.createElement('div', {
                                key: 'right',
                                className: "text-right"
                            }, [
                                React.createElement('div', {
                                    key: 'label',
                                    className: "text-sm text-gray-600"
                                }, "Success rate"),
                                React.createElement('div', {
                                    key: 'value',
                                    className: "text-xl font-bold text-cyan-600 sunlight-optimized"
                                }, `${recommendations.topTide[1].percentage.toFixed(0)}%`)
                            ])
                        ])),

                        // Weather
                        React.createElement('div', {
                            key: 'weather',
                            className: "bg-sky-50 rounded-lg p-4"
                        }, React.createElement('div', {
                            className: "flex items-center justify-between"
                        }, [
                            React.createElement('div', {
                                key: 'left',
                                className: "flex items-center"
                            }, [
                                React.createElement(Sun, {
                                    key: 'icon',
                                    className: "h-6 w-6 text-sky-600 mr-3"
                                }),
                                React.createElement('div', {
                                    key: 'content'
                                }, [
                                    React.createElement('div', {
                                        key: 'label',
                                        className: "font-semibold text-true-navy"
                                    }, "Weather"),
                                    React.createElement('div', {
                                        key: 'value',
                                        className: "text-2xl font-bold text-true-navy sunlight-optimized"
                                    }, recommendations.weatherPreference)
                                ])
                            ]),
                            React.createElement('div', {
                                key: 'right',
                                className: "text-right"
                            }, [
                                React.createElement('div', {
                                    key: 'label',
                                    className: "text-sm text-gray-600"
                                }, "Water temp"),
                                React.createElement('div', {
                                    key: 'value',
                                    className: "text-xl font-bold text-sky-600 sunlight-optimized"
                                }, `${recommendations.avgWaterTemp}¬∞C`)
                            ])
                        ]))
                    ])
                ]),

                // Quick Summary
                React.createElement('div', {
                    key: 'summary',
                    className: "card bg-primary rounded-xl p-6 text-white"
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: "flex items-center mb-4"
                    }, [
                        React.createElement(TrendingUp, {
                            key: 'icon',
                            className: "h-8 w-8 mr-3"
                        }),
                        React.createElement('h2', {
                            key: 'title',
                            className: "text-2xl font-bold sunlight-optimized"
                        }, "Quick Summary")
                    ]),
                    React.createElement('div', {
                        key: 'content',
                        className: "text-lg leading-relaxed"
                    }, [
                        React.createElement('p', {
                            key: 'intro',
                            className: "mb-3 sunlight-optimized"
                        }, React.createElement('strong', null, `To catch ${selectedFish}:`)),
                        React.createElement('p', {
                            key: 'location',
                            className: "mb-2"
                        }, [
                            "üéØ Fish at ",
                            React.createElement('strong', { key: 'loc-value' }, recommendations.topLocation && recommendations.topLocation[0] || "Unknown")
                        ]),
                        React.createElement('p', {
                            key: 'bait',
                            className: "mb-2"
                        }, [
                            "üé£ Use ",
                            React.createElement('strong', { key: 'bait-value' }, recommendations.topBait && recommendations.topBait[0] || "Unknown"),
                            " as bait"
                        ]),
                        recommendations.topEnhancement && React.createElement('p', {
                            key: 'enhancement',
                            className: "mb-2"
                        }, [
                            "‚ú® Add ",
                            React.createElement('strong', { key: 'enh-value' }, recommendations.topEnhancement[0] || "Unknown"),
                            " enhancement"
                        ]),
                        React.createElement('p', {
                            key: 'time',
                            className: "mb-2"
                        }, [
                            "‚è∞ Go fishing ",
                            React.createElement('strong', { key: 'time-value' }, recommendations.topTime && recommendations.topTime[0] ? recommendations.topTime[0].toLowerCase() : "anytime")
                        ]),
                        React.createElement('p', {
                            key: 'moon',
                            className: "mb-2"
                        }, [
                            "üåô Best during ",
                            React.createElement('strong', { key: 'moon-value' }, recommendations.topMoon && recommendations.topMoon[0] || "Unknown")
                        ]),
                        React.createElement('p', {
                            key: 'tide'
                        }, [
                            "üåä Target ",
                            React.createElement('strong', { key: 'tide-value' }, recommendations.topTide && recommendations.topTide[0] ? recommendations.topTide[0].toLowerCase() : "Unknown"),
                            " tide"
                        ])
                    ])
                ]),

                        // Footer
                React.createElement('div', {
                    key: 'footer',
                    className: "text-center mt-6 text-white text-sm font-cormorant"
                }, [
                    React.createElement('p', {
                        key: 'line1'
                    }, "Based on historical catch data from Bazaruto"),
                    React.createElement('p', {
                        key: 'line2',
                        className: "mt-1"
                    }, "Good luck fishing! üé£"),
                    React.createElement('p', {
                        key: 'line3',
                        className: "text-sm mt-2 opacity-70"
                    }, "¬© 2025 Henrike Basson")
                ]),
                
                // Floating Action Button (Log a Catch with Google Form)
                React.createElement('a', {
                    key: 'fab',
                    href: 'https://docs.google.com/forms/d/e/1FAIpQLSdvpVR2RHX20eDRkGjjlfyyZyBwaViGhszCn7sh0DVyfhim6g/viewform?usp=header',
                    target: '_blank',
                    rel: 'noopener noreferrer',
                    style: {
                        position: 'fixed',
                        bottom: '32px',
                        right: '32px',
                        zIndex: 900,
                        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',
                        minWidth: '56px',
                        height: '56px',
                        backgroundColor: '#205295', // accent color
                        color: 'white',
                        padding: '0',
                        borderRadius: '50%',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        transition: 'all 0.2s ease',
                        transform: 'scale(1)'
                    },
                    onMouseOver: (e) => { 
                        e.currentTarget.style.transform = 'scale(1.05)';
                        e.currentTarget.style.boxShadow = '0 6px 16px rgba(0, 0, 0, 0.2)';
                    },
                    onMouseOut: (e) => { 
                        e.currentTarget.style.transform = 'scale(1)';
                        e.currentTarget.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)';
                    }
                }, React.createElement('svg', {
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "24",
                    height: "24",
                    viewBox: "0 0 24 24",
                    fill: "none",
                    stroke: "currentColor",
                    strokeWidth: "2",
                    strokeLinecap: "round",
                    strokeLinejoin: "round"
                }, [
                    React.createElement('path', { d: "M12 5v14" }),
                    React.createElement('path', { d: "M5 12h14" })
                ]))
            ]));
        };

            // Render the app
            console.log("Rendering SimpleFishingGuide component...");
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(SimpleFishingGuide));
            console.log("Component rendered!");
        }
        
        // Start initialization when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }
    </script>
</body>
</html>
