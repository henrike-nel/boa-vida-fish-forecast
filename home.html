<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fish Forecast</title>
    <meta name="description" content="Fishing app for Bazaruto waters - Log catches and get fishing recommendations">
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/png" href="assets/icons/fish_forecast_icon-2.png">
    <link rel="apple-touch-icon" href="assets/icons/fish_forecast_icon-2.png">
    
    <!-- Social Media / Open Graph Tags -->
    <meta property="og:title" content="Boa Vida Fish Forecast">
    <meta property="og:description" content="Fishing app for Bazaruto waters - Log catches and get fishing recommendations">
    <meta property="og:image" content="https://henriken.github.io/boa-vida-fish-forecast/assets/icons/fish_forecast_icon-2.png">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Boa Vida Fish Forecast">
    <meta name="twitter:description" content="Fishing app for Bazaruto waters - Log catches and get fishing recommendations">
    <meta name="twitter:image" content="https://henriken.github.io/boa-vida-fish-forecast/assets/icons/fish_forecast_icon-2.png">
    
    <!-- Microsoft Tile Tags -->
    <meta name="msapplication-TileImage" content="assets/icons/fish_forecast_icon-2.png">
    <meta name="msapplication-TileColor" content="#26374D">
    
    <!-- PWA Support -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#26374D">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts with preload for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=EB+Garamond:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        // Tailwind config extension for custom fonts
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'cormorant': ['"Cormorant Garamond"', 'serif'],
                        'eb-garamond': ['"EB Garamond"', 'serif'],
                    }
                }
            }
        };
    </script>
    
    <style>

        /* Additional mobile optimizations */
        body {
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            background: linear-gradient(135deg, #536D82, #26374D); /* Blue Door to True Navy gradient */
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: #0F172A; /* Dark text for better readability */
        }
        
        /* Ensure good contrast in bright sunlight */
        .sunlight-optimized {
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        /* Button hover effects */
        .btn-hover {
            transition: all 0.2s ease;
        }
        
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        /* Button active effects */
        .btn-hover:active {
            transform: translateY(0);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* Gradient overlay for better text readability */
        .gradient-overlay {
            background: #26374D; /* Primary color - True Navy */
        }
        
        /* Modern card styling */
        .card {
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            background-color: #FFFFFF;
            border: 1px solid rgba(0,0,0,0.05);
            transition: all 0.2s ease;
            overflow: hidden;
        }
        
        .card:hover {
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        }
        
        /* Modern minimalist color palette - matched with index.html */
        .bg-primary {
            background-color: #26374D; /* True Navy */
        }
        
        .bg-secondary {
            background-color: #536D82; /* Blue Door */
        }
        
        .bg-accent {
            background-color: #9DB2BF; /* Harper's Blue */
        }
        
        .bg-light {
            background-color: #DDE8ED; /* Alice Blue */
        }
        
        .bg-surface {
            background-color: #FFFFFF;
        }
        
        .text-primary {
            color: #26374D; /* True Navy */
        }
        
        .text-secondary {
            color: #536D82; /* Blue Door */
        }
        
        .text-accent {
            color: #9DB2BF; /* Harper's Blue */
        }
        
        .text-muted {
            color: #64748B;
        }
        
        .border-primary {
            border-color: #26374D; /* True Navy */
        }
        
        /* Keep old color classes for compatibility */
        .bg-true-navy {
            background-color: #26374D;
        }
        
        .bg-blue-door {
            background-color: #536D82;
        }
        
        .bg-harpers-blue {
            background-color: #9DB2BF;
        }
        
        .bg-alice-blue {
            background-color: #DDE8ED;
        }
        
        .text-true-navy {
            color: #26374D;
        }
        
        /* Typography styles with robust fallbacks */
        .font-garamond {
            font-family: 'EB Garamond', 'Palatino Linotype', 'Book Antiqua', Palatino, 'Times New Roman', serif;
        }
        
        .font-cormorant {
            font-family: 'Cormorant Garamond', 'Garamond', 'Baskerville', 'Baskerville Old Face', 'Hoefler Text', 'Times New Roman', serif;
        }
        
        .tracking-widest {
            letter-spacing: 0.2em;
        }
        
        .tracking-wider {
            letter-spacing: 0.15em;
        }
        
        .uppercase {
            text-transform: uppercase;
        }
        
        /* Responsive adjustments */
        @media (max-width: 360px) {
            .text-4xl {
                font-size: 1.75rem;
            }
            
            .text-base {
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body class="flex items-center justify-center p-3 sm:p-4">
    <div class="w-full max-w-md">
        <!-- Main Content -->
        <div class="card bg-surface overflow-hidden">
            <!-- Header -->
            <div class="gradient-overlay p-8 sm:p-12 text-center">
                <h1 class="font-cormorant tracking-wider uppercase text-4xl sm:text-5xl font-light text-white mb-4 sm:mb-6 sunlight-optimized whitespace-nowrap" style="letter-spacing: 0.2em; word-spacing: 0.1em;">BOA VIDA</h1>
                <p class="font-cormorant tracking-wider uppercase text-base sm:text-xl font-light text-white sunlight-optimized" style="letter-spacing: 0.3em; word-spacing: 0.3em;">FISH FORECAST</p>
            </div>
            
            <!-- Buttons Container -->
            <div class="p-6 sm:p-8 space-y-4 sm:space-y-6">
                <!-- Fish Finder Button -->
                <a href="index.html" class="btn-hover flex items-center justify-center bg-accent hover:bg-secondary text-white w-full py-4 sm:py-5 px-4 sm:px-6 rounded-full text-lg sm:text-xl font-medium shadow-md transition-all">
                    Fish Finder
                </a>
                
                <!-- Log a Catch Button -->
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSdvpVR2RHX20eDRkGjjlfyyZyBwaViGhszCn7sh0DVyfhim6g/viewform?usp=header" target="_blank" rel="noopener noreferrer" class="btn-hover flex items-center justify-center gap-2 sm:gap-3 bg-light hover:bg-gray-100 text-primary border border-gray-200 w-full py-4 sm:py-5 px-4 sm:px-6 rounded-full text-lg sm:text-xl font-medium shadow-sm transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 5v14"></path>
                        <path d="M5 12h14"></path>
                    </svg>
                    Log a Catch
                </a>
            </div>
            
            <!-- Footer -->
            <div class="px-6 sm:px-8 pb-6 sm:pb-8 text-center">
                <p class="text-sm text-muted mb-1">Based on historical catch data from Bazaruto</p>
                <p class="text-xs text-muted opacity-70">Â© 2025 Henrike Basson</p>
            </div>
        </div>
    </div>

    <!-- IndexedDB Manager -->
    <script src="/js/indexedDB-manager.js"></script>
    
    <!-- Update Notifier -->
    <script src="/js/update-notifier.js"></script>
    
    <script>
        // Register service worker for offline capabilities
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration.scope);
                        
                        // Handle updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New service worker is installed but waiting to activate
                                    UpdateNotifier.showUpdateNotification();
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
                    
                // Listen for messages from the service worker
                navigator.serviceWorker.addEventListener('message', event => {
                    if (event.data && event.data.type === 'UPDATE_AVAILABLE') {
                        UpdateNotifier.showUpdateNotification();
                    }
                });
            });
        }
    
        // Check if we need to redirect based on URL parameters
        document.addEventListener('DOMContentLoaded', function() {
            // Get URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const action = urlParams.get('action');
            
            // Redirect based on action parameter
            if (action === 'fish-finder') {
                window.location.href = 'index.html';
            } else if (action === 'log-catch') {
                window.location.href = 'https://docs.google.com/forms/d/e/1FAIpQLSdvpVR2RHX20eDRkGjjlfyyZyBwaViGhszCn7sh0DVyfhim6g/viewform?usp=header';
            }
            
            // Add offline status indicator if needed
            if (!navigator.onLine) {
                const offlineIndicator = document.createElement('div');
                offlineIndicator.className = 'fixed top-0 left-0 right-0 bg-yellow-500 text-white px-4 py-2 text-center text-sm';
                offlineIndicator.innerHTML = '<span style="margin-right: 8px;">â ï¸</span> You\'re currently offline. Some features may be limited.';
                document.body.prepend(offlineIndicator);
            }
        });
    </script>
</body>
</html>
